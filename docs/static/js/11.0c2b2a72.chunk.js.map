{"version":3,"sources":["components/edit/Edit.js","hooks/useEdit.js"],"names":["Container","styled","div","props","darkmode","bg","select","Desktop","Grid","Edit","id","useParams","useState","setDarkmode","status","dispatch","useDispatch","useQuery","axios","get","headers","localStorage","getItem","then","res","data","onSuccess","a","setObj","refetchOnWindowFocus","useEdit","font","useSelector","state","fontmenu","menu","useEffect","LoadingAdd","Logo","path","Menu","Nav","onClick","dashClose","fontOff","SubmitEdit","edit","NoteEdit","NoteOptions","Loading"],"mappings":"opCAgBA,IAAMA,EAAYC,IAAOC,IAAV,KAGO,SAAAC,GAAK,OAAIA,EAAMC,SAAW,OAAjB,cAAiCC,IAAjC,QACT,SAAAF,GAAK,OAAIA,EAAMC,UAAN,aAKd,SAAAD,GAAK,OAAIA,EAAMG,OAAS,OAAS,UAE5CC,EAAUN,IAAOC,IAAV,KAOPM,EAAOP,IAAOC,IAAV,KAqDKO,UAtCF,WAAO,IACTC,EAAMC,cAAND,GADQ,EAEgBE,oBAAS,GAFzB,mBAERR,EAFQ,KAECS,EAFD,KAGRC,EC/CI,SAAiBJ,GAC5B,IAAMK,EAAWC,cACjB,OAAOC,mBACH,QACA,kBACIC,IAAMC,IAAI,sDAAuD,CAC7DC,QAAS,CACL,aAAcC,aAAaC,QAAQ,YACnC,GAAMZ,KACNa,MAAK,SAAAC,GAAG,OAAIA,EAAIC,KAAKA,UAChC,CACGC,UAAU,WAAD,4BAAE,WAAOD,GAAP,SAAAE,EAAA,sEAAsBZ,EAASa,YAAOH,IAAtC,mFAAF,mDAAC,GACVI,sBAAsB,IDmCbC,CAAQpB,GAAlBI,OACDC,EAAWC,cACXe,EAAOC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,SAASC,QAEjDC,qBAAU,WAC+B,OAArCf,aAAaC,QAAQ,aAAwBT,GAAY,KAC3D,IAMF,OACI,oCACgB,YAAXC,GACG,oCACI,kBAACuB,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,CAAMC,KAAK,eACX,kBAACC,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,MAEA,kBAACzC,EAAD,CAAW0C,QAbP,WAChB3B,EAAS4B,eACNZ,GAAMhB,EAAS6B,gBAW2BxC,SAAUA,GACvC,kBAACG,EAAD,KAAS,kBAACsC,EAAA,EAAD,CAAYC,MAAM,KAC3B,kBAACtC,EAAD,KACI,kBAACuC,EAAA,EAAD,CAAUD,MAAM,IAChB,kBAACE,EAAA,EAAD,CAAaF,MAAM,OAKvB,YAAXhC,GAAwB,kBAACmC,EAAA,EAAD","file":"static/js/11.0c2b2a72.chunk.js","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport styled from 'styled-components'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {dashClose, fontOff} from \"../../redux\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport Logo from \"../logo/Logo\";\r\nimport Menu from \"../navMobile/Menu\";\r\nimport Nav from \"../nav/Nav\";\r\nimport SubmitEdit from \"./submitEdit/SubmitEdit\";\r\nimport NoteEdit from \"../addNote/noteEdit/NoteEdit\";\r\nimport NoteOptions from \"../addNote/noteOptions/NoteOptions\";\r\nimport Loading from \"../loading/Loading\";\r\nimport bg from \"../../img/bgReg.webp\"\r\nimport LoadingAdd from \"../loadingAdd/LoadingAdd\";\r\nimport useEdit from \"../../hooks/useEdit\";\r\n\r\nconst Container = styled.div`\r\n  min-height: 100vh;\r\n  overflow-x: hidden;\r\n  background-image: ${props => props.darkmode ? \"none\" : `url(${bg})`};\r\n  background-color: ${props => props.darkmode && `#231f20`};\r\n  background-repeat: no-repeat;\r\n  background-attachment: fixed;\r\n  background-position: center;\r\n  background-size: cover;\r\n  user-select: ${props => props.select ? 'none' : 'auto'};\r\n`;\r\nconst Desktop = styled.div`\r\n  display: none;\r\n   @media (min-width: 768px) {\r\n   display: block;\r\n   margin: 40px 0 10px 0;\r\n}\r\n`;\r\nconst Grid = styled.div`\r\n  padding-top: 13vh;\r\n  min-height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 100vw;\r\n  @media (min-width: 768px) {\r\n    display: grid;\r\n    grid-template-columns: repeat(2,1fr);\r\n    align-items: flex-start;\r\n    justify-items: center;\r\n    padding: 0;\r\n  }\r\n`;\r\nconst Edit = () => {\r\n    const {id} = useParams();\r\n    const [darkmode,setDarkmode] = useState(false);\r\n    const {status} = useEdit(id);\r\n    const dispatch = useDispatch();\r\n    const font = useSelector(state => state.fontmenu.menu);\r\n\r\n    useEffect(() => {\r\n        localStorage.getItem('darkmode') !== null && setDarkmode(true);\r\n    },[]);\r\n\r\n    const handleClick = () => {\r\n        dispatch(dashClose()); // close mobile menu\r\n        if(font) dispatch(fontOff());\r\n    };\r\n    return (\r\n        <>\r\n            {status === \"success\" && (\r\n                <>\r\n                    <LoadingAdd/>\r\n                    <Logo path=\"/dashboard\"/>\r\n                    <Menu/>\r\n                    <Nav/>\r\n\r\n                    <Container onClick={handleClick} darkmode={darkmode}>\r\n                        <Desktop><SubmitEdit edit={true}/></Desktop>\r\n                        <Grid>\r\n                            <NoteEdit edit={true}/>\r\n                            <NoteOptions edit={true}/>\r\n                        </Grid>\r\n                    </Container>\r\n                </>\r\n            )}\r\n            {status === \"loading\" && <Loading/>}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Edit;","import axios from 'axios';\r\nimport {useQuery} from \"react-query\";\r\nimport {setObj} from \"../redux\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nexport default function useEdit(id){\r\n    const dispatch = useDispatch();\r\n    return useQuery(\r\n        'edit',\r\n        () =>\r\n            axios.get(\"https://notesappserver.herokuapp.com/api/notes/edit\", {\r\n                headers: {\r\n                    'auth-token': localStorage.getItem(\"jwtToken\"),\r\n                    'id': id\r\n                }}).then(res => res.data.data)\r\n        ,{\r\n            onSuccess: async (data) => await dispatch(setObj(data)),\r\n            refetchOnWindowFocus: false\r\n        }\r\n    )}"],"sourceRoot":""}